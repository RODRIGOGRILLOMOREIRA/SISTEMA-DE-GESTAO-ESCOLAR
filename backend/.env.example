# ========================================
# BACKEND - Variáveis de Ambiente
# Copyright (c) 2026 SGE - PROPRIETARY
# ========================================
# INSTRUÇÕES:
# 1. Copie este arquivo: cp backend/.env.example backend/.env
# 2. Preencha com suas credenciais REAIS
# 3. NUNCA commite o arquivo .env no Git!

# ===================
# BANCO DE DADOS
# ===================
DATABASE_URL="postgresql://usuario:senha@localhost:5432/gestao_escolar?schema=public"

# ===================
# JWT (Autenticação)
# ===================
# Gere uma chave forte: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET="sua-chave-secreta-super-forte-aqui-64-caracteres-minimo"

# ===================
# SERVIDOR
# ===================
PORT=3333
NODE_ENV=development

# ===================
# OTIMIZAÇÃO DE MEMÓRIA NODE.JS
# ===================
# Aumenta heap máximo para 4GB (ajuste conforme RAM disponível)
NODE_OPTIONS=--max-old-space-size=4096 --expose-gc

# ===================
# CORS (Frontend)
# ===================
FRONTEND_URL=http://localhost:5173

# ===================
# TWILIO (SMS)
# ===================
# Obtenha em: https://console.twilio.com
TWILIO_ACCOUNT_SID="ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
TWILIO_AUTH_TOKEN="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
TWILIO_PHONE_NUMBER="+5511999999999"

# ===================
# TWILIO (WhatsApp)
# ===================
TWILIO_WHATSAPP_NUMBER="whatsapp:+14155238886"

# ===================
# OPENAI (Inteligência Artificial)
# ===================
# Obtenha em: https://platform.openai.com/api-keys
OPENAI_API_KEY="sk-proj-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# ===================
# UPLOADS (Reconhecimento Facial)
# ===================
UPLOAD_DIR="./uploads"
MAX_FILE_SIZE=5242880

# ===================
# BACKUP AUTOMÁTICO
# ===================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 3 * * *"
BACKUP_RETENTION_DAYS=7
BACKUP_PATH="./backups"
BACKUP_ON_START=false

# ===================
# REDIS (Cache e Filas)
# ===================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ===================
# FASE 4 - SEGURANÇA AVANÇADA
# ===================

# Criptografia AES-256-GCM para dados sensíveis
# ⚠️ CRÍTICO: Gere uma chave única de 64 caracteres hexadecimais
# Execute: node -e "console.log('ENCRYPTION_KEY=' + require('crypto').randomBytes(32).toString('hex'))"
# 
# ⚠️ IMPORTANTE:
# - Faça BACKUP desta chave em local seguro (ver SECURITY_KEYS_BACKUP.txt)
# - Guarde em gerenciador de senhas (1Password, LastPass, Bitwarden)
# - Se perder esta chave, dados criptografados NÃO PODERÃO ser recuperados!
# - Nunca compartilhe esta chave
ENCRYPTION_KEY=your_encryption_key_here_64_hex_chars_replace_with_real_key

# Nível de logs (debug, info, warn, error, fatal)
LOG_LEVEL=info
